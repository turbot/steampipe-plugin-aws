---
title: "Steampipe Table: aws_ce_cost_allocation_tags - Query AWS Cost Allocation Tags using SQL"
description: "Allows users to query Cost Allocation Tags, providing information about tag keys, types, and active/inactive status. Useful for cost governance and tag-based cost allocation."
folder: "Cost Explorer"
---

# Table: aws_ce_cost_allocation_tags - Query AWS Cost Allocation Tags using SQL

AWS Cost Allocation Tags help you organize and track your AWS costs by adding user-defined or AWS-generated tags to your resources. Cost Allocation Tags can be activated or deactivated to control which tags are included in your cost allocation reports.

## Table Usage Guide

The `aws_ce_cost_allocation_tags` table in Steampipe provides you with information about Cost Allocation Tags in your AWS account. This table allows you to query tag-specific details, including tag keys, tag types, and active/inactive status. You can utilize this table to gather insights on which tags are actively being used for cost allocation, track last used dates, and manage tag statuses. The schema outlines the various attributes of a cost allocation tag including the tag key, type, and update dates.

## Examples

### List all cost allocation tags
Retrieve all cost allocation tags configured in your AWS account to review your cost allocation setup.

```sql+postgres
select
  tag_key,
  status,
  type,
  last_updated_date,
  last_used_date
from
  aws_ce_cost_allocation_tags;
```

```sql+sqlite
select
  tag_key,
  status,
  type,
  last_updated_date,
  last_used_date
from
  aws_ce_cost_allocation_tags;
```

### List active cost allocation tags
Find all tags that are currently active and available for cost allocation.

```sql+postgres
select
  tag_key,
  status,
  type,
  last_updated_date
from
  aws_ce_cost_allocation_tags
where
  status = 'Active'
order by
  tag_key;
```

```sql+sqlite
select
  tag_key,
  status,
  type,
  last_updated_date
from
  aws_ce_cost_allocation_tags
where
  status = 'Active'
order by
  tag_key;
```

### List inactive cost allocation tags
Identify tags that are currently inactive or deactivated.

```sql+postgres
select
  tag_key,
  status,
  type,
  last_updated_date
from
  aws_ce_cost_allocation_tags
where
  status = 'Inactive'
order by
  tag_key;
```

```sql+sqlite
select
  tag_key,
  status,
  type,
  last_updated_date
from
  aws_ce_cost_allocation_tags
where
  status = 'Inactive'
order by
  tag_key;
```

### List AWS-generated tags
Retrieve only tags that were automatically generated by AWS.

```sql+postgres
select
  tag_key,
  status,
  type,
  last_used_date
from
  aws_ce_cost_allocation_tags
where
  type = 'AWSGenerated'
order by
  tag_key;
```

```sql+sqlite
select
  tag_key,
  status,
  type,
  last_used_date
from
  aws_ce_cost_allocation_tags
where
  type = 'AWSGenerated'
order by
  tag_key;
```

### List user-defined tags
Find all tags that you have manually created and configured.

```sql+postgres
select
  tag_key,
  status,
  type,
  last_used_date
from
  aws_ce_cost_allocation_tags
where
  type = 'UserDefined'
order by
  tag_key;
```

```sql+sqlite
select
  tag_key,
  status,
  type,
  last_used_date
from
  aws_ce_cost_allocation_tags
where
  type = 'UserDefined'
order by
  tag_key;
```

### Find unused tags
Identify tags that have never been used or haven't been used in a long time for potential cleanup.

```sql+postgres
select
  tag_key,
  status,
  type,
  last_used_date
from
  aws_ce_cost_allocation_tags
where
  last_used_date is null
  or last_used_date < current_date - interval '90 days'
order by
  last_used_date;
```

```sql+sqlite
select
  tag_key,
  status,
  type,
  last_used_date
from
  aws_ce_cost_allocation_tags
where
  last_used_date is null
  or last_used_date < date('now', '-90 days')
order by
  last_used_date;
```

### Find recently updated tags
View tags that have been recently activated or deactivated.

```sql+postgres
select
  tag_key,
  status,
  type,
  last_updated_date
from
  aws_ce_cost_allocation_tags
where
  last_updated_date >= current_date - interval '30 days'
order by
  last_updated_date desc;
```

```sql+sqlite
select
  tag_key,
  status,
  type,
  last_updated_date
from
  aws_ce_cost_allocation_tags
where
  last_updated_date >= date('now', '-30 days')
order by
  last_updated_date desc;
```

### Get tag distribution by status and type
Analyze your tags by status and type for better cost allocation governance.

```sql+postgres
select
  status,
  type,
  count(*) as tag_count
from
  aws_ce_cost_allocation_tags
group by
  status,
  type
order by
  status,
  type;
```

```sql+sqlite
select
  status,
  type,
  count(*) as tag_count
from
  aws_ce_cost_allocation_tags
group by
  status,
  type
order by
  status,
  type;
```

### Find active user-defined tags that are in use
Get tags that are actively being used for cost allocation.

```sql+postgres
select
  tag_key,
  status,
  type,
  last_used_date
from
  aws_ce_cost_allocation_tags
where
  status = 'Active'
  and type = 'UserDefined'
  and last_used_date is not null
order by
  last_used_date desc;
```

```sql+sqlite
select
  tag_key,
  status,
  type,
  last_used_date
from
  aws_ce_cost_allocation_tags
where
  status = 'Active'
  and type = 'UserDefined'
  and last_used_date is not null
order by
  last_used_date desc;
```
