---
title: "Steampipe Table: aws_rds_db_recommendation - Query AWS RDS DB Recommendations using SQL"
description: "Allows users to query AWS RDS DB Recommendations and retrieve valuable information about each recommendation's status, impact, and suggested actions."
folder: "RDS"
---

# Table: aws_rds_db_recommendation - Query AWS RDS DB Recommendations using SQL

The AWS RDS DB Recommendation table provides insights and suggestions for improving the configuration and performance of your RDS DB instances and clusters. This table allows you, as a DevOps engineer, to query specific recommendations, understand their impact, and take appropriate actions to optimize your database setup.

## Table Usage Guide

The `aws_rds_db_recommendation` table in Steampipe offers detailed information about recommendations generated by AWS for your RDS DB instances and clusters. You can query this table to gather insights on issues, suggested improvements, and the status of each recommendation. The schema includes various attributes such as recommendation ID, description, severity, creation and update times, and links to further documentation.

## Examples

### List all recommendations with high severity
Identify all recommendations with a high severity level to prioritize actions that address the most critical issues in your RDS setup.

```sql+postgres
select
  recommendation_id,
  title,
  severity,
  description,
  created_time
from
  aws_rds_db_recommendation
where
  severity = 'high';
```

```sql+sqlite
select
  recommendation_id,
  title,
  severity,
  description,
  created_time
from
  aws_rds_db_recommendation
where
  severity = 'high';
```

### List all recommendations created in the last 30 days
Find recommendations that were created recently to stay updated on new issues and suggested improvements.

```sql+postgres
select
  recommendation_id,
  title,
  created_time,
  description
from
  aws_rds_db_recommendation
where
  created_time >= now() - interval '30 days';
```

```sql+sqlite
select
  recommendation_id,
  title,
  created_time,
  description
from
  aws_rds_db_recommendation
where
  created_time >= datetime('now', '-30 days');
```

### List recommendations with their recommended actions
Get details of recommendations along with the actions suggested by AWS to resolve the identified issues.

```sql+postgres
select
  recommendation_id,
  title,
  recommendation,
  recommended_actions
from
  aws_rds_db_recommendation;
```

```sql+sqlite
select
  recommendation_id,
  title,
  recommendation,
  recommended_actions
from
  aws_rds_db_recommendation;
```

### List recommendations by the order of impact
Understand the potential impact of each recommendation to prioritize actions based on the severity of the issues.

```sql+postgres
select
  recommendation_id,
  title,
  impact,
  description
from
  aws_rds_db_recommendation
order by
  impact desc;
```

```sql+sqlite
select
  recommendation_id,
  title,
  impact,
  description
from
  aws_rds_db_recommendation
order by
  impact desc;
```

### List recommendations with unresolved status
Identify recommendations that are still unresolved to track pending issues that need attention.

```sql+postgres
select
  recommendation_id,
  title,
  status,
  updated_time
from
  aws_rds_db_recommendation
where
  status != 'resolved';
```

```sql+sqlite
select
  recommendation_id,
  title,
  status,
  updated_time
from
  aws_rds_db_recommendation
where
  status != 'resolved';
```

### Get the issue details that triggered the recommendation
Analyze performance issues for the recommendation.

```sql+postgres
select
  recommendation_id,
  issue_details -> 'PerformanceIssueDetails' ->> 'Analysis' as analysis,
  issue_details -> 'PerformanceIssueDetails' ->> 'EndTime' as end_time,
  issue_details -> 'PerformanceIssueDetails' ->> 'StartTime' as start_time,
  issue_details -> 'PerformanceIssueDetails' -> 'Metrics' as metrics
from
  aws_rds_db_recommendation
where
  issue_details is not null;
```

```sql+sqlite
select
  recommendation_id,
  json_extract(issue_details, '$.PerformanceIssueDetails.Analysis') as analysis,
  json_extract(issue_details, '$.PerformanceIssueDetails.EndTime') as end_time,
  json_extract(issue_details, '$.PerformanceIssueDetails.StartTime') as start_time,
  json_extract(issue_details, '$.PerformanceIssueDetails.Metrics') as metrics
from
  aws_rds_db_recommendation
where
  issue_details is not null;
```

### List the recommended action details for a particular recommendation
View all relevant information clearly and organized, facilitating better planning and decision-making for database maintenance and optimization.

```sql+postgres
select
  recommendation_id,
  action ->> 'Title' as title,
  action ->> 'Status' as status,
  action ->> 'ActionId' as action_id,
  action ->> 'Operation' as operation,
  action -> 'ApplyModes' as apply_modes,
  action -> 'Parameters' as parameters,
  action ->> 'Description' as description,
  action ->> 'IssueDetails' as issue_details,
  action -> 'ContextAttributes' as context_attributes
from
  aws_rds_db_recommendation,
  jsonb_array_elements(recommended_actions) as action;
```

```sql+sqlite
select
  recommendation_id,
  json_extract(action.value, '$.Title') as title,
  json_extract(action.value, '$.Status') as status,
  json_extract(action.value, '$.ActionId') as action_id,
  json_extract(action.value, '$.Operation') as operation,
  json_extract(action.value, '$.ApplyModes') as apply_modes,
  json_extract(action.value, '$.Parameters') as parameters,
  json_extract(action.value, '$.Description') as description,
  json_extract(action.value, '$.IssueDetails') as issue_details,
  json_extract(action.value, '$.ContextAttributes') as context_attributes
from
  aws_rds_db_recommendation,
  json_each(recommended_actions) as action;
```
